<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/places/tabs/offers"></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="offer">{{offer.title}}</ion-title>
    <ion-buttons slot="primary">
      <ion-button color="danger" (click)="onDeleteOffer()">Delete</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form *ngIf="offer" #f="ngForm" (ngSubmit)="onSubmit(f) ">
		<ion-row>
			<ion-col size-lg="8" offset-lg="2">
				<ion-list>
					<ion-item>
						<ion-label position="floating">Title</ion-label>
						<ion-input
							ngModel
							name="title"
              type="text"
              [ngModel]="offer.title"
							autocomplete
							autocorrect
              required
						></ion-input>
					</ion-item>
					<ion-item>
						<ion-label position="floating">Description</ion-label>
						<ion-textarea
							ngModel
              name="description"
              rows="3"
              [ngModel]="offer.description"
							autocomplete
              autocorrect

						></ion-textarea>
					</ion-item>
          <ion-item>
            <ion-label>Available from</ion-label>
            <ion-datetime  [min]="todayDate"
              [max]="(endDateCtrl.value)? endDateCtrl.value : '2030-01-01'" placeholder="Select Start Date" ngModel name="startdate"
               #startDateCtrl="ngModel" [ngModel] ="(offer.startDate) ? offer.startDate : ''"></ion-datetime>
          </ion-item>
          <ion-item>
            <ion-label>Available to</ion-label>
            <ion-datetime  [min]="(startDateCtrl.value)? startDateCtrl.value : todayDate" max="2030-01-01"
              placeholder="Select End Date" ngModel name="enddate" #endDateCtrl [ngModel] ="(offer.endDate) ? offer.endDate : ''"></ion-datetime>
          </ion-item>
					<ion-item>
						<ion-label position="floating">Price / Night</ion-label>
						<ion-input
							ngModel
							name="price"
              type="number"
              min="1"
              [ngModel]="offer.price"
              required
						></ion-input>
					</ion-item>
				</ion-list>
				<ion-button type="submit" expand="block" (click)="onEditOffer()"
					>Edit</ion-button
				>
			</ion-col>
		</ion-row>
	</form>

</ion-content>
